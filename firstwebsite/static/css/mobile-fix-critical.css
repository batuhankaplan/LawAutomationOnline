/* CRITICAL MOBILE FIX - EN ÜST PRİORİTE */

/* Mobil için ULTRA agresif sidebar düzeltmesi */
@media screen and (max-width: 768px) {
    /* Sidebar başlangıç - GİZLİ, KOYU ARKA PLAN */
    nav.sidebar,
    .sidebar,
    #mobileSidebar {
        position: fixed !important;
        top: 0 !important;
        left: -100% !important;
        width: 80% !important;
        max-width: 300px !important;
        height: 100vh !important;
        z-index: 99999 !important;
        background: rgba(45, 49, 60, 1) !important;
        transition: left 0.3s ease !important;
        display: flex !important;
        flex-direction: column !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        -webkit-overflow-scrolling: touch !important;
    }

    [data-theme="dark"] nav.sidebar,
    [data-theme="dark"] .sidebar,
    [data-theme="dark"] #mobileSidebar {
        background: rgba(45, 49, 60, 1) !important;
    }

    /* Sidebar AÇIK durumu */
    nav.sidebar.active,
    .sidebar.active,
    #mobileSidebar.active {
        left: 0 !important;
        box-shadow: 5px 0 20px rgba(0,0,0,0.5) !important;
        z-index: 999999 !important;
        pointer-events: auto !important;
    }

    /* Sidebar içerik - KOYU ARKA PLAN İÇİN AÇIK METİN */
    .sidebar,
    .sidebar *,
    .sidebar a,
    .sidebar li,
    .sidebar ul,
    .sidebar .submenu,
    .sidebar .submenu *,
    .sidebar .submenu a {
        color: #e8eaed !important;
    }

    [data-theme="dark"] .sidebar,
    [data-theme="dark"] .sidebar *,
    [data-theme="dark"] .sidebar a,
    [data-theme="dark"] .sidebar li,
    [data-theme="dark"] .sidebar ul,
    [data-theme="dark"] .sidebar .submenu,
    [data-theme="dark"] .sidebar .submenu *,
    [data-theme="dark"] .sidebar .submenu a {
        color: #e8eaed !important;
    }

    /* Dropdown/Submenu MOBİLDE KAPALI */
    .sidebar .submenu,
    .sidebar ul ul,
    .sidebar .dropdown-content {
        display: none !important;
        max-height: 0 !important;
        overflow: hidden !important;
    }

    /* Dropdown açıksa görünür */
    .sidebar li.active .submenu,
    .sidebar li.active ul ul,
    .sidebar li.open .submenu,
    .sidebar li.open ul ul {
        display: block !important;
        max-height: 500px !important;
    }

    /* Submenu item'ları okunabilir ve tıklanabilir */
    .sidebar .submenu li,
    .sidebar .submenu a {
        background: rgba(0,0,0,0.2) !important;
        padding: 8px 20px 8px 40px !important;
        color: #e8eaed !important;
    }

    [data-theme="dark"] .sidebar .submenu li,
    [data-theme="dark"] .sidebar .submenu a {
        background: rgba(0,0,0,0.2) !important;
        color: #e8eaed !important;
    }

    /* Sidebar linkleri KESINLIKLE tıklanabilir */
    .sidebar a,
    .sidebar ul,
    .sidebar li,
    .sidebar .nav-links,
    .sidebar .logo,
    .sidebar .material-icons,
    .sidebar i {
        pointer-events: auto !important;
        z-index: 1 !important;
        position: relative !important;
        cursor: pointer !important;
    }

    /* Sidebar link hover */
    .sidebar a:hover,
    .sidebar li:hover {
        background-color: rgba(0,123,255,0.1) !important;
    }

    /* Icon'lar link ile birlikte tıklanabilir */
    .sidebar a i,
    .sidebar a .material-icons {
        pointer-events: none !important;
    }

    /* Overlay - TAMAMEN GİZLE (KARARTMA YOK) */
    .sidebar-overlay {
        display: none !important;
        pointer-events: none !important;
        opacity: 0 !important;
        visibility: hidden !important;
    }

    .sidebar-overlay.active {
        display: none !important;
        pointer-events: none !important;
        opacity: 0 !important;
        visibility: hidden !important;
    }

    /* Hamburger buton - HER ZAMAN GÖRÜNÜR VE TIKLANABİLİR */
    .mobile-menu-toggle {
        position: fixed !important;
        top: 10px !important;
        left: 10px !important;
        z-index: 9999999 !important;
        width: 45px !important;
        height: 45px !important;
        background: #007bff !important;
        color: white !important;
        border: none !important;
        border-radius: 8px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        box-shadow: 0 3px 15px rgba(0,123,255,0.6) !important;
        pointer-events: auto !important;
    }

    .mobile-menu-toggle i {
        pointer-events: none !important;
        color: white !important;
    }

    /* Main content */
    .main-content {
        margin-left: 0 !important;
        width: 100% !important;
        padding-top: 70px !important;
    }

    /* Navbar - SADECE LOGO VE PROFİL */
    .navbar {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        height: 60px !important;
        z-index: 99900 !important;
        background: white !important;
        display: flex !important;
        align-items: center !important;
        padding: 8px 10px !important;
        gap: 5px !important;
        justify-content: space-between !important;
    }

    [data-theme="dark"] .navbar {
        background: #22252b !important;
    }

    /* Search box ve gereksiz elemanları TAMAMEN EKRANDAN KALDIR */
    .navbar .search-container,
    .navbar .search-box,
    .navbar .search-wrapper,
    .navbar .search-form,
    .navbar form,
    .navbar input,
    .navbar input[type="search"],
    .navbar input[type="text"],
    .navbar .form-control,
    .navbar button[type="submit"],
    .navbar .search-button,
    .search-wrapper,
    #search-input {
        display: none !important;
        visibility: hidden !important;
        width: 0 !important;
        height: 0 !important;
        max-width: 0 !important;
        min-width: 0 !important;
        opacity: 0 !important;
        pointer-events: none !important;
        position: absolute !important;
        left: -9999px !important;
        z-index: -1 !important;
    }

    /* Navbar brand - hamburger için yer bırak, KOMPAKT */
    .navbar .navbar-brand,
    .navbar h1,
    .navbar .brand {
        margin-left: 50px !important;
        font-size: 13px !important;
        max-width: 140px !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
        flex-shrink: 1 !important;
        flex: 1 !important;
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
    }

    /* User info ve profil - sağda görünür, flex-shrink önle */
    .navbar .user-info,
    .navbar .dropdown {
        display: flex !important;
        align-items: center !important;
        margin-left: auto !important;
        z-index: 99901 !important;
        pointer-events: auto !important;
        flex-shrink: 0 !important;
        min-width: 50px !important;
    }

    /* Profil resmi büyük ve tıklanabilir */
    .navbar .user-avatar,
    .navbar img[alt*="User"],
    .navbar .profile-image,
    .navbar .dropdown img {
        width: 40px !important;
        height: 40px !important;
        border-radius: 50% !important;
        cursor: pointer !important;
        border: 2px solid #007bff !important;
        pointer-events: auto !important;
    }

    /* Dropdown toggle tıklanabilir */
    .navbar .dropdown-toggle,
    .navbar [data-bs-toggle="dropdown"] {
        pointer-events: auto !important;
        z-index: 99902 !important;
    }

    /* Dropdown menu görünür ve erişilebilir */
    .navbar .dropdown-menu {
        position: absolute !important;
        top: 55px !important;
        right: 0 !important;
        z-index: 99903 !important;
        min-width: 220px !important;
        background: white !important;
        box-shadow: 0 5px 20px rgba(0,0,0,0.3) !important;
        pointer-events: auto !important;
    }

    [data-theme="dark"] .navbar .dropdown-menu {
        background: #2a2d35 !important;
    }

    .navbar .dropdown-menu.show {
        display: block !important;
    }

    .navbar .dropdown-item {
        padding: 12px 20px !important;
        font-size: 15px !important;
        min-height: 44px !important;
        pointer-events: auto !important;
    }

    /* TAKVİM için yatay kaydırma */
    .calendar-container,
    .calendar,
    .calendar-wrapper,
    table.calendar,
    #calendar,
    .fc,
    .fc-view-container,
    .main-content {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
        touch-action: pan-x pan-y !important;
    }

    /* Tablolar yatay kaydırılabilir */
    .table-responsive,
    table {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
}

